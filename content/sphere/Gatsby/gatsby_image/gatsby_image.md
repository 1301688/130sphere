---
title: "â‘¤Gatsbyã®ç”»åƒã¨ãƒ•ã‚¡ãƒ“ã‚³ãƒ³(å®ˆ)"
date: "2021-06-23"
updateDate: ""
type: ""
category: "gatsby"
description: "â‘¤Gatsbyã®ç”»åƒã¨ãƒ•ã‚¡ãƒ“ã‚³ãƒ³ï¼ˆå®ˆï¼‰"
emoji: "ğŸƒ"
topImage: ""
---
#### ç”»åƒã‚’æ ¼ç´ã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
- è¡¨ç¤ºã•ã›ãŸã„ç”»åƒãƒ‡ãƒ¼ã‚¿ã‚’Gatsbyãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§èª­ã¿å–ã‚Šå¯èƒ½ãªå ´æ‰€ã«æ ¼ç´ã™ã‚‹
>- root/src/imagesãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
>- root/staticãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
>- metaãƒ•ã‚¡ã‚¤ãƒ«ç³»ã«ãƒ™ã‚¿æ›¸ã â€»å¾Œæ—¥

â€»ã¯å¾Œæ—¥ã¾ã¨ã‚
#### ç”»åƒãŒè¡¨ç¤ºã•ã‚Œã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª/ãƒ•ã‚¡ã‚¤ãƒ«
- æœ€çµ‚çš„ã«è¡¨ç¤ºã•ã‚Œã‚‹ãƒšãƒ¼ã‚¸ã‚’ä¸‹è¨˜ã«è¨˜è¿°ã—ã¦ç›´æ„Ÿçš„ã«ã™ã‚‹
>- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¡ãƒ¼ãƒ³ãƒšãƒ¼ã‚¸	
>- è¨˜äº‹ãƒšãƒ¼ã‚¸å†…ã®ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒ	
>- è¨˜äº‹ã‚«ãƒ¼ãƒ‰ã®ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒ		
>- OGPï¼ˆmetaDataï¼‰â€»å¾Œæ—¥SEOã®æ™‚		
>- å ´æ‰€ã«ã‚ˆã£ã¦è¨­å®šæ–¹æ³•ãŒé•ã†ã“ã¨ã«æ³¨æ„ã™ã‚‹		
#### ç”»åƒã®è¡¨ç¤ºæ–¹æ³•
- åŸºæœ¬çš„ãªè¡¨ç¤ºæ–¹æ³•ã¯å¤§ããåˆ†ã‘ã¦4ã¤
>- ãƒªãƒ†ãƒ©ãƒ«è¨˜æ³•ã‚’åˆ©ç”¨ã™ã‚‹æ–¹æ³•
> â‘ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’importã—ã¦è¡¨ç¤º  
> â‘¡staticãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¸ã®ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ã—ã¦è¡¨ç¤º
>- GraphQLã®queryçµæœã‚’åˆ©ç”¨ã™ã‚‹æ–¹æ³•(ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼)
> â‘¢GraphQLã«ã‚ˆã‚‹ç”»åƒã®è¡¨ç¤º 
> â‘£Gatsby-pluginã‚’åˆ©ç”¨ã—ãŸç”»åƒã®è¨­å®š

#### ç”»åƒã®è¡¨ç¤ºæ–¹æ³•ï½œãƒªãƒ†ãƒ©ãƒ«è¨˜æ³•ç³»
â‘ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’importã—ã¦è¡¨ç¤ºâ–¼
> 1. root/src/imagesã«ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ã
> 2. root/src/pages/index.jsã§ä¸Šè¨˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’importã™ã‚‹
> 3. importã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’JSXè¨˜æ³•ã§è¨˜è¿°ã™ã‚‹
```
import React from "react"
import Test from "../images/sample.svg"

export default function Home() {
  return (
      <div>Hello isao!!</div>
      <img src={Test} alt="test" />
  )
}

```
â‘¡staticãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¸ã®ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ã—ã¦è¡¨ç¤ºâ–¼
> 1. root/staticã«ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ã
> 2. è¡¨ç¤ºã—ãŸã„pageã«JSXè¨˜æ³•ã§è¨˜è¿°ã™ã‚‹  
> staticãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã™ã‚‹ã¨  
> root/publicãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒè‡ªå‹•ã§ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹  
> â€»Gatsbyã§ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œæ™‚ç”Ÿæˆã•ã‚Œã‚‹ cleanã§å‰Šé™¤ã•ã‚Œã‚‹  
> JSXè¨˜è¿°ã™ã‚‹æ™‚staticãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç”»åƒä¿å­˜ã—ãŸã®ã§  
> static/staticTest.svgã¨srcã«æŒ‡å®šã™ã‚‹ã®ã§ã¯ãªã  
> publicãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹staticTest.svgã¨  
> æŒ‡å®šã™ã‚‹ã ã‘ã§ç”»åƒè¡¨ç¤ºã•ã‚Œã‚‹
```
import React from "react"

export default function Home() {
  return (
    
      <div>Hello isao!!</div>
      <img src="/staticTest.svg" alt="test" />
  )
}

```
#### ç”»åƒã®è¡¨ç¤ºæ–¹æ³•ï½œGraphQL:ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼è¨˜æ³•ç³»
â‘¢GraphQLã«ã‚ˆã‚‹ç”»åƒã®è¡¨ç¤º
> 1. gatsby-source-filesystemã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹  
> 2. GraphiQLã§queryã‚’å®Ÿè¡Œã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã®æƒ…å ±ã‚’å–å¾—  
> 3. ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€ç¨®ãªã®ã§GraphiQLã®  
> queryã‚’å®Ÿè¡Œã™ã‚‹ã¨imagesãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¿å­˜ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«æƒ…å ±ã‚’  
> å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã‚‹    
> â€»GraphiQLã®çµæœã‹ã‚‰ç¢ºèªã—ãŸpublicURLã‚’ç›´æ¥srcã«æŒ‡å®šã—ã¦è¡¨ç¤ºã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ãŒ  
> GraphQLã®queryã®å®Ÿè¡Œçµæœã‚’ãã®ã¾ã¾åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹...æ®†ã©ã¯ã“ã£ã¡   
> â€»GraphiQL(ã‚°ãƒ©ãƒ•ã‚£ã‚¯ãƒ«):GraphQL APIã®ä½¿ã„ã‚„ã™ã„GUIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã€IDE  
> â€»GraphQL(ã‚°ãƒ©ãƒ•QL):GraphQL APIãã®ã‚‚ã®  
ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å ´åˆâ–¼
```
import React from "react"
import { graphql } from "gatsby"

export default function Home({ datan }) {
  return (
      <div>Hello isao!!</div>
      <img src={data.file.publicURL} alt="test" />
  )
}

export default query = graphql`
  {
    file(name: {eq: "test"}) {
      publicURL
    }
  }
`
```
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å ´åˆâ–¼
```
import React from "react"
import { useStaticQuery, graphql } from "gatsby"

const Header = () => {
  const data = useStaticQuery(
    graphql`
      {
        file(name: { eq: "test" }) {
          publicURL
        }
      }
    `
  )
}
```



â‘£Gatsby-pluginã‚’åˆ©ç”¨ã—ãŸç”»åƒã®è¨­å®š
- â€»ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ï¼‘ã¤ã¯å¾Œæ—¥
- ãƒ™ã‚¿æ›¸ãã™ã‚‹(â‘ ã€â‘¢)ã‹ã€ãƒ‘ãƒ©ãƒ¡ã‚¿ã«ã—ã¦GraphQLã§å–ã‚‹ï¼ˆâ‘¡ã€â‘£ï¼‰ã‹			
- ãƒ‘ãƒ©ãƒ¡ã‚¿ã«ã—ã¦å–ã‚‹å ´åˆã¯å¸¸ã«ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦			
- ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã™ã‚‹ã“ã¨ã§ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
å¾Œæ—¥â€»GraphQLã«ã‚ˆã‚‹ç”»åƒã®å–å¾—
å½æ—¥â€»Gatsby-image,Gatsby-plugin-imageãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’åˆ©ç”¨ã—ãŸç”»åƒè¨­å®š
#### faviconã‚’æ ¼ç´ã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¾ãŸã¯ãƒ•ã‚¡ã‚¤ãƒ«
- è¡¨ç¤ºã•ã›ãŸã„favicon.icoãƒ‡ãƒ¼ã‚¿ã‚’Gatsbyãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§èª­ã¿å–ã‚Šå¯èƒ½ãªå ´æ‰€ã«æ ¼ç´ã™ã‚‹
- faviconã¨ã¯faivariticonã®ç•¥ã®ã‚ˆã†
>- root/staticãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
>- gatsby-config.jsãƒ•ã‚¡ã‚¤ãƒ«
#### faviconã®ä½œæˆæ–¹æ³•
- favicon.icoãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆæ–¹æ³•ã¯æƒ…å ±ãŒå°‘ãªã„ãŸã‚ç°¡å˜ãªæ–¹æ³•ã‚’è¨˜è¿°
>- gatsby-plugin-faviconsãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ä½œæˆã™ã‚‹
>  SVGã‚’ãƒ•ã‚¡ãƒ“ã‚³ãƒ³ã«å‡ºæ¥ã‚‹=SVGã‚’drawioã§ã¤ãã£ã¦å¤‰æ›å‡ºæ¥ã‚‹ã®ã§è‰¯ã„
>  ãŠãã‚‰ãä»–ã«ã‚‚è‰¯ã„æ–¹æ³•ãŒã‚ã‚‹ãŒã€ç¾åœ¨ã¯ã“ã®æ–¹æ³•ã§ä½œæˆã™ã‚‹
>- Webã«ã‚ã‚‹ã„ãšã‚Œã‹ã®ã‚µã‚¤ãƒˆã§ä½œæˆã™ã‚‹
#### faviconã‚’è¨­å®šã™ã‚‹
- ä½œæˆã—ãŸfavicon.icoãƒ•ã‚¡ã‚¤ãƒ«ã‚’Gatsbyãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§èª­ã¿å–ã‚Šè¡¨ç¤ºå‡ºæ¥ã‚‹ã‚ˆã†ã«è¨­å®šã™ã‚‹
>- gatsby-plugin-manifestã‚‚ã—ãã¯gatsby-plugin-react-helmetã©ã¡ã‚‰ãŒSEOå¿…é ˆã‹èª¿ã¹ãŸçµæœ
>  catã•ã‚“ã®config,jsã‚’è¦‹ã¦åˆ¤æ–­ã™ã‚‹ && ã‚µã‚¤ãƒˆã‚’å‚è€ƒã«ã™ã‚‹ && bookã‚’å‚è€ƒã«ã™ã‚‹

- root/staticã«favicon.icoãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ã
  â†’ã“ã“ã‹ã‚‰ã¯å¤šåˆ†â†’ãƒ“ãƒ«ãƒ‰ã—ãŸæ™‚ã«root/publicã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹â†’ä»¥é™å‘¼ã³å‡ºã•ã‚Œã‚‹
- gatsby-plugin-manifestã§è¨­å®šã™ã‚‹
â€»ãƒ–ãƒ©ã‚¦ã‚¶ã§ä¸€åº¦ä½œæˆã•ã‚ŒãŸãƒ•ã‚¡ãƒ“ã‚³ãƒ³ã¯æ®‹ã‚Šç¶šã‘ã‚‹ã®ã§ã€æ˜ç¤ºçš„ã«å‰Šé™¤ã™ã‚‹å¿…è¦æ€§ãŒã‚ã‚‹
- catã•ã‚“ã¯static,manifestä¸¡æ–¹ã«è¨­å®šã—ã¦ã„ã‚‹ãŒã€favicon.icoã®ã»ã†ã¯ã‚ã‚„ã—ã„
ã€€â†’ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰è€ƒãˆã‚‹ãŒãƒ™ã‚¹ãƒˆã ãŒåµŒã‚Šãã†ãªã®ã§ã¤ã


ã€€

